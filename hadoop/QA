1.
KEYWORDS
- SHUTDOWN_MSG: Shutting down DataNode at java.net.UnknownHostException: xxxx
- Exception in thread "main" java.net.UnknownHostException: 172-17-128-2l8: 172-17-128-2l8: Name or service not known

原因
a. 不明原因或者jvm dns cache导致的
b. /etc/hosts file配置错误, ip, name的位置反了, 

对于b原因, 更正/etc/hosts文件配置

对于a原因
在一些特殊情况下导致系统网络有问题是 会出现上述问题
datanode, spark worker 等hadoop组件启动后很快自动shutdown的问题 
用下面的java snippet code - test.java 测试也确实能不断重现, 试了若干试图清楚JVM的DNS cache的方法都不好使.

变通解决方案是:
1.a 先将hostname改成其他名字, 并在/etc/hosts中添加match新hostname的映射项
1.b reboot
1.c run 上述java app 测试, OK
2.a 重新将hostname改回之前的hostname, 
2.b reboot
2.c run 上述java app 测试, OK
3. 问题解决


2. issue: kafka broker refuse connection from client
config/server.properties
must set following two items value:
host.name=%ip.or.name%
advertised.host.name=%ip.or.name%
then broker accessible from remote client


